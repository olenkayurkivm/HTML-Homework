<html>
<head>
  <meta charset="UTF-8">
  <title>JS Homework 2: querySelector, date, timeout</title>
</head>
<body onload="timeLoop()">
<!-- Task 2  -->
  <h1>World time</h1>
  <ul>
    <li data-location="london">London - <span class="time">null</span></li>
    <li data-location="kiev">Kiev - <span class="time">null</span></li>
    <li data-location="warshawa">Warshawa - <span class="time">null</span></li>
    <li data-location="los angeles">Los Angeles - <span class="time">null</span></li>
    <li data-location="new york">New York - <span class="time">null</span></li>
  </ul>

<script>
  // вивести для кожного міста час і дату
  // формат 24.09.2017 - 15:40
    var localTime = {
    'london': -2,
    'kiev': 0,
    'warshawa': -1,
    'los angeles': -10,
    'new york': -7
  };
    function timeLoop() {
        document.querySelectorAll("li[data-location]").forEach(function(element){
            var curentTime = new Date();
            curentTime.setHours(curentTime.getHours() + localTime[element.getAttribute('data-location')]);
            element.getElementsByClassName("time")[0].innerHTML = curentTime.toLocaleDateString('en-GB').split('/').join('.') + " - " + curentTime.toLocaleTimeString('en-GB').substr(0, 5);
        });
      var timeOut = setTimeout(timeLoop, 1000);
    }    
</script>
</body>
</html>

